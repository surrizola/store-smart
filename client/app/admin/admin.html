<div ng-include="'components/navbar/navbar.html'"></div>


<div class="container">

<h1 class="page-header">Stores administration</h1>

  <div class="row">
    <div class="col-lg-6">
      <div class="list-group">
        <a href="#" class="list-group-item" ng-repeat="st in stores" ng-click="selectStore(st)">
          <h4 class="list-group-item-heading">{{st.name}}</h4>
          <p class="list-group-item-text">{{st.info}}</p>
        </a>
      </div>




        <button type="submit" class="btn btn-primary" ng-click="showNewtore()">Create new Store</button>

    </div>

    <div class="col-lg-6" ng-show="store!=null">
        <div class="row" >
          <h3>{{store.name}}</h3>
          <h4>{{store.info}}</h4>
            <div class="col-sm-6 thumbnail">
         <img src="{{store.mainImage}}"  alt="Store logo" class="thumbnail">
       </div>
<!--
          <p class="input-group">
            <input type="text" class="form-control" placeholder="Store name" ng-model="store.name">
           </p>
          <label>information</label> 
           <p class="input-group">
            <input type="text" class="form-control" placeholder="Store info" ng-model="store.info">
           </p>

          <label>Image</label> 
           <p class="input-group">
            <input type="text" class="form-control" placeholder="Main image" ng-model="store.mainImage">
           </p>

          <label>id</label> 
           <p class="input-group">
          {{store._id}}
            </p> 


      
        <button type="submit" class="btn btn-primary" ng-click="saveStore()">Save</button>
        <button type="submit" class="btn btn-primary" ng-click="deleteStore()">Delete</button>
        <p/>
      -->
      <span class="input-group-btn">
        <a href="adminStore/{{store._id}}" class="btn btn-primary" > Admin Store</a>
      </span>


        </div>

    <div class="row" ng-show="store._id !=null">
        <h4>Images</h4>

      <div class="row"/>
        
        <h4>Actuales</h4>
        <div class="list-group-item" ng-repeat="img in store.images">
          
          {{store._id}}-{{img.name}}

          <img src="api/stores/image/{{store._id}}-{{img.name}}" class="thumbnail"/>
        </div>
       </div>  

       <div class="row">
        <h4>Nueva imagen </h4>
    <input type="file" class="btn btn-primary" ngf-select ng-model="images" ngf-accept="'image/*'"></input>
    <button type="submit" class="btn btn-primary" ng-click="addImage()">Add Image</button>
    {{message}}
    <div ng-show="images!=null">
    Preview: <img ngf-src="images[0]" ngf-default-src="'/thumb.jpg'" ngf-accept="'image/*'" class="thumbnail">
    </div>

       </div>

  

<!--
    Image thumbnail: 
    <img ngf-src="files[0]" ngf-default-src="'/thumb.jpg'" ngf-accept="'image/*'" class="thumbnail">
  -->
  </div>





<!--
     <input type="file" name="file" multiple 
 onchange="angular.element(this).scope().uploadedFile(this)" />
    </p>
-->

      
    </p>
    
  </form>
</div>


    </div>

  </div>

</div>